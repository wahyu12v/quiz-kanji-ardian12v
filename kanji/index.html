<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Aplikasi hafalan Kanji Jepang N5/N4 â€” Quiz, Essay, 4 Mode Mastery" />
  <title>æ¼¢å­— Mastery â€” Hafalan N5 &amp; N4</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400;700&family=Shippori+Mincho:wght@400;500;700&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" type="image/png" href="/kanji/logo2-removebg.png" />
</head>
<body>

  <!-- NAVBAR -->
  <nav class="app-navbar">
    <a href="#" class="navbar-logo">
      <span class="logo-icon">æ¼¢</span>
      <span class="logo-text">Kanji<span>Mastery</span></span>
    </a>
    <button id="btn-stop" class="btn-stop-nav d-none">âœ• Berhenti</button>
  </nav>

  <div class="app-wrapper">

    <!-- ==========================================
         LAYAR 1: DASHBOARD
    ========================================== -->
    <div id="screen-dashboard">
      <div class="neon-card card-primary">
        <!-- Hero -->
        <div class="card-body-pad">
          <h1 class="hero-title"><span class="hi">æ¼¢å­—</span> Hafalan</h1>
          <p class="hero-subtitle">N5 Â· N4 Â· Quiz &amp; Essay Â· 4 Mode Mastery</p>
        </div>

        <hr class="divider-neon" />

        <!-- Filter Level -->
        <div class="card-body-pad">
          <div class="section-label">Filter Level</div>
          <div class="level-filter-group" id="level-filter-group">
            <input type="radio" name="level-filter" id="filter-n5"  value="N5"  />
            <label class="level-btn-label" for="filter-n5">N5</label>
            <input type="radio" name="level-filter" id="filter-n4"  value="N4"  />
            <label class="level-btn-label" for="filter-n4">N4</label>
            <input type="radio" name="level-filter" id="filter-all" value="ALL" />
            <label class="level-btn-label" for="filter-all">Gabungan</label>
          </div>
          <div class="total-badge-wrap">
            <span id="total-kanji-badge"><span class="badge-num">â€¦</span> Kanji tersedia</span>
          </div>
        </div>

        <hr class="divider-neon" />

        <!-- Tombol Lihat & Hafal -->
        <div class="card-body-pad">
          <div class="section-label">Belajar Dulu</div>
          <button class="btn-display-mode" id="btn-mode-display">
            <span class="display-icon">ğŸ“–</span>
            <div class="display-text">
              <span class="display-title">Lihat &amp; Hafal</span>
              <span class="display-sub">Tampilkan kanji + bacaan + arti sebelum latihan</span>
            </div>
            <span class="display-arrow">â†’</span>
          </button>
        </div>

        <hr class="divider-neon" />

        <!-- Grid Mode Ujian -->
        <div class="card-body-pad">
          <div class="section-label">Mode Ujian</div>
          <div class="mode-grid">
            <button class="btn-mode" id="btn-mode-quiz-arti">
              <span class="mode-icon">ğŸ‘</span>
              <span class="mode-text">Tebak Arti <small>Kanji â†’ Pilih Arti</small></span>
            </button>
            <button class="btn-mode" id="btn-mode-quiz-baca">
              <span class="mode-icon">ğŸ‘‚</span>
              <span class="mode-text">Tebak Bacaan <small>Kanji â†’ Pilih Hiragana</small></span>
            </button>
            <button class="btn-mode" id="btn-mode-essay-arti">
              <span class="mode-icon">âœï¸</span>
              <span class="mode-text">Tulis Arti <small>Kanji â†’ Ketik Arti</small></span>
            </button>
            <button class="btn-mode" id="btn-mode-essay-baca">
              <span class="mode-icon">ğŸ”¤</span>
              <span class="mode-text">Tulis Bacaan <small>Kanji â†’ Ketik Romaji/Kana</small></span>
            </button>
          </div>
          <button class="btn-progress-full" id="btn-cek-progress">ğŸ“Š Cek Progress Mastery</button>
        </div>
      </div>
    </div><!-- /#screen-dashboard -->


    <!-- ==========================================
         LAYAR 2: QUIZ
    ========================================== -->
    <div id="screen-quiz" class="d-none">
      <div class="neon-card">
        <!-- Header -->
        <div class="quiz-header">
          <span id="quiz-counter" class="quiz-counter">1 / 20</span>
          <span id="quiz-no-asli" class="quiz-no-asli">No.â€” Â· â€” Â· â€”</span>
        </div>
        <!-- Progress bar tipis -->
        <div class="quiz-progress-wrap">
          <div id="quiz-progress-fill" class="quiz-progress-fill" style="width:0%"></div>
        </div>
        <!-- Kanji besar -->
        <div class="quiz-kanji-area" id="quiz-kanji" aria-live="polite"></div>
        <!-- Input area -->
        <div class="quiz-input-area" id="quiz-input-area" aria-live="polite"></div>
        <!-- Footer navigasi -->
        <div class="quiz-footer">
          <button id="btn-prev" class="btn-quiz-nav" disabled>â† Sebelumnya</button>
          <button id="btn-lupa" class="btn-quiz-nav btn-lupa">ğŸ˜µ Lupa</button>
          <button id="btn-next" class="btn-quiz-nav btn-next-quiz">Berikutnya â†’</button>
        </div>
      </div>
      <!-- Overlay feedback (transparan, hanya untuk transisi) -->
      <div id="feedback-overlay" class="feedback-overlay d-none" aria-hidden="true"></div>
    </div><!-- /#screen-quiz -->


    <!-- ==========================================
         LAYAR 3: HASIL
    ========================================== -->
    <div id="screen-result" class="d-none">
      <div class="neon-card">
        <div class="result-score-area">
          <div id="result-score"></div>
          <div id="result-score-label" class="result-score-label">â€” benar dari â€” soal</div>
        </div>
        <div class="result-actions">
          <button id="btn-retry-all"   class="btn-result btn-result-primary">ğŸ”„ Ulangi Semua Soal</button>
          <button id="btn-retry-wrong" class="btn-result btn-result-danger d-none">
            âŒ Perbaiki <span id="wrong-count-badge" class="wrong-badge">0</span> Soal Salah
          </button>
          <button id="btn-to-menu" class="btn-result btn-result-secondary">ğŸ  Menu Utama</button>
        </div>
        <!-- Pembahasan detail tiap soal -->
        <div id="result-list" aria-live="polite"></div>
      </div>
    </div><!-- /#screen-result -->


    <!-- ==========================================
         LAYAR 4: PROGRESS
    ========================================== -->
    <div id="screen-progress" class="d-none">
      <div class="neon-card">
        <div class="screen-header">
          <span class="screen-title">ğŸ“Š Progress Mastery</span>
          <button id="btn-close-progress" class="btn-screen-back">â† Kembali</button>
        </div>
        <div class="card-body-pad" id="progress-content" aria-live="polite"></div>
      </div>
    </div><!-- /#screen-progress -->


    <!-- ==========================================
         LAYAR 5: LIHAT & HAFAL (DISPLAY)
    ========================================== -->
    <div id="screen-display" class="d-none">
      <div class="neon-card">
        <div class="screen-header">
          <span class="screen-title">ğŸ“– Lihat &amp; Hafal</span>
          <button id="btn-display-close" class="btn-screen-back">âœ• Tutup</button>
        </div>
        <div class="display-counter-wrap">
          <span id="display-counter" class="display-counter">1 / 20</span>
        </div>
        <!-- Kanji besar -->
        <div class="display-kanji-area" id="display-kanji" aria-live="polite"></div>
        <!-- Info kanji â€” langsung tampil tanpa tombol -->
        <div class="display-reveal-wrap">
          <div id="display-reveal" class="display-info-panel"></div>
        </div>
        <!-- Navigasi -->
        <div class="display-nav">
          <button id="btn-display-prev" class="btn-display-nav" disabled>â† Sebelumnya</button>
          <button id="btn-display-next" class="btn-display-nav btn-display-nav-next">Berikutnya â†’</button>
        </div>
      </div>
    </div><!-- /#screen-display -->

  </div><!-- /.app-wrapper -->


  <!-- ==========================================
       MODAL: PILIH PAKET
  ========================================== -->
  <div class="modal fade" id="modal-paket" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modal-paket-title">Pilih Paket</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" style="padding: 1rem 1.1rem;">
          <div id="paket-list"></div>
        </div>
        <div class="modal-footer">
          <button id="btn-pilih-semua" class="btn-modal-secondary">â˜‘ Semua</button>
          <button id="btn-reset-paket" class="btn-modal-secondary">âœ• Reset</button>
          <button id="btn-mulai"       class="btn-modal-primary">â–¶ Mulai</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="js/main.js"></script>
</body>
</html>
