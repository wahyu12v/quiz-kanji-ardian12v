

<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Hafalan Kotoba — Modern</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="logo2-removebg.png" />
  </head>
  <body>
    <nav
      class="navbar sticky-top navbar-light bg-white py-3 shadow-sm"
      id="main-nav"
    >
      <div class="container d-flex justify-content-between align-items-center">
        <a
          href="index.html"
          class="navbar-brand d-flex align-items-center gap-3 m-0"
        >
          <img
            src="/kotoba/logo2-removebg.png"
            alt="Logo"
            style="height: 42px; width: auto"
            class="brand-logo"
            onerror="this.style.display='none'"
          />
          <div class="d-flex flex-column lh-1">
            <span class="fw-bold brand-title fs-5">Hafalan Kotoba</span>
            <small class="brand-subtitle text-muted" style="font-size: 0.75rem"
              >by Ardian Wahyu Saputra</small
            >
          </div>
        </a>
        <div class="d-flex gap-2 align-items-center">
          <a
            href="/index.html"
            id="btn-main-back"
            class="btn rounded-pill fw-bold d-flex align-items-center"
          >
            <i class="bi bi-arrow-left me-2" style="font-size: 1.2rem;"></i>
            Kembali
          </a>

          <button
            id="btn-stop-quiz"
            class="btn btn-outline-danger btn-sm rounded-pill px-3 fw-bold d-none"
            data-bs-toggle="modal"
            data-bs-target="#stopQuizModal"
          >
            <i class="bi bi-stop-circle-fill me-1"></i> Berhenti
          </button>
        </div>
      </div>
    </nav>

    <div class="modal fade" id="stopQuizModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content border-0 shadow-lg rounded-4 text-center p-4">
          <div class="modal-body p-0">
            <div class="mb-3 text-warning">
              <i
                class="bi bi-exclamation-circle-fill"
                style="font-size: 3.5rem"
              ></i>
            </div>
            <h5 class="fw-bold mb-2">Hentikan Sesi?</h5>
            <p class="text-muted small mb-4">
              Progress saat ini akan langsung dinilai.<br />Anda tidak bisa
              melanjutkan lagi.
            </p>
            <div class="d-grid gap-2">
              <button
                type="button"
                class="btn btn-danger rounded-pill fw-bold shadow-sm"
                onclick="executeStopQuiz()"
              >
                Ya, Selesai Sekarang
              </button>
              <button
                type="button"
                class="btn btn-light rounded-pill fw-medium text-muted"
                data-bs-dismiss="modal"
              >
                Batal
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <main
      class="container my-5 d-flex flex-column justify-content-center"
      style="min-height: 70vh"
    >
      <div class="row g-4 justify-content-center">
        <div id="quiz-area" class="col-md-10 col-lg-8">
          <div
            class="text-center hero-card p-5 rounded-5 position-relative overflow-hidden"
          >
            <div class="hero-bg-kanji">言葉</div>

            <div style="position: relative; z-index: 2">
              <div class="mb-4">
                <div
                  class="d-inline-flex align-items-center justify-content-center rounded-circle p-4"
                >
                  <i class="bi bi-translate fs-1"></i>
                </div>
              </div>

              <h1 class="display-5 fw-bolder mb-3">言葉を覚えましょう！</h1>
              <p class="lead mb-5 px-3 opacity-75">
                Pilih mode untuk menambah kosakata bahasa Jepangmu.<br />
                Tulis Arti, Tebak Arti, atau Lihat Daftar.
              </p>

              <div
                class="d-inline-flex align-items-center gap-2 px-4 py-2 rounded-pill border mb-5"
                style="background: var(--teal-dim); border-color: var(--teal) !important;"
              >
                <i class="bi bi-database-fill"></i>
                <span
                  >Total: <strong id="totalCount">...</strong> Kosakata</span
                >
              </div>

              <div
                class="d-grid gap-3 d-sm-flex justify-content-center flex-wrap"
              >
                <button
                  id="daftarHafalanBtn"
                  class="btn btn-outline-custom btn-lg rounded-pill px-4 py-3"
                >
                  <i class="bi bi-list-task me-2"></i> Daftar Kotoba
                </button>

                <button
                  id="memorizeBtn"
                  class="btn btn-outline-custom btn-lg rounded-pill px-4 py-3"
                >
                  <i class="bi bi-pencil-fill me-2"></i> Tulis Arti
                </button>

                <button
                  id="startBtn"
                  class="btn btn-outline-custom btn-lg rounded-pill px-4 py-3"
                >
                  <i class="bi bi-check-circle me-2"></i> Tebak Arti
                </button>

                <button
                  id="btnTebakHiragana"
                  class="btn btn-outline-custom btn-lg rounded-pill px-4 py-3"
                >
                  <i class="bi bi-question-circle-fill me-2"></i>
                  Tebak Hiragana
                </button>

                <button
                  id="btnTulisRomaji"
                  class="btn btn-outline-custom btn-lg rounded-pill px-4 py-3"
                >
                  <i class="bi bi-pen-fill me-2"></i>
                  Tulis Romaji
                </button>

                <button
                  id="btnCekProgress"
                  class="btn btn-outline-custom btn-lg rounded-pill px-4 py-3"
                >
                  <i class="bi bi-graph-up-arrow me-2"></i>
                  Progress Hafalan
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

<div class="modal fade" id="progressModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"> 
        <div class="modal-content border-0 shadow-lg" style="border-radius: 16px;">
          
          <div class="modal-header border-0 pb-0 pt-4 px-4 rounded-top-4">
            <div>
                <h4 class="modal-title fw-bold text-dark mb-1"><i class="bi bi-pie-chart-fill me-2 text-primary"></i>Progress Hafalan</h4>
                <p class="text-muted small mb-0">Indikator 100% jika semua mode (4 jenis) selesai.</p>
            </div>
            <button type="button" class="btn-close bg-light p-2 rounded-circle" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body p-4 rounded-bottom-4">
            <div id="progressList">
                </div>
          </div>

        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="daftarRangeModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content px-3 py-2">
          <div class="modal-header border-0 pb-0">
            <div>
              <h4 class="modal-title fw-bold">Pilih Paket Kosakata</h4>
              <p class="text-muted small mb-0">
                Pilih paket yang ingin ditampilkan di daftar.
              </p>
            </div>
            <button
              type="button"
              class="btn-close bg-light rounded-circle p-2"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body pt-4">
            <div id="rangeListDaftar" class="range-grid-container"></div>
            <div class="mt-4 pt-3 border-top d-flex gap-2">
              <button
                id="btnDaftarSelectAll"
                class="btn btn-sm btn-light border px-3 rounded-pill fw-medium"
              >
                Pilih Semua
              </button>
              <button
                id="btnDaftarReset"
                class="btn btn-sm btn-light border px-3 rounded-pill fw-medium"
              >
                Reset
              </button>
            </div>
          </div>
          <div class="modal-footer border-0 pt-0 pb-4">
            <button
              type="button"
              class="btn btn-light text-muted fw-medium rounded-pill px-4 py-2"
              data-bs-dismiss="modal"
            >
              Batal
            </button>
            <button
              id="btnShowList"
              type="button"
              class="btn btn-primary-custom rounded-pill shadow-sm"
            >
              Tampilkan
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="daftarHafalanModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable"
      >
        <div class="modal-content px-0 overflow-hidden">
          <div class="modal-header border-bottom-0 pb-0 pt-4 px-4">
            <div>
              <h4 class="modal-title fw-bold">
                Daftar Kosakata Terpilih
              </h4>
              <p class="text-muted small mb-0">
                Menampilkan hasil dari paket yang dipilih.
              </p>
            </div>
            <button
              type="button"
              class="btn-close bg-light rounded-circle p-2"
              data-bs-dismiss="modal"
            ></button>
          </div>

          <div class="modal-body px-4 pt-4 bg-light-subtle">
            <div id="daftarList" class="kanji-list-grid pb-5 pt-2"></div>
          </div>

          <div class="modal-footer border-top p-4">
            <button
              class="btn btn-outline-custom rounded-pill py-2 px-4 fw-medium"
              data-bs-target="#daftarRangeModal"
              data-bs-toggle="modal"
            >
              <i class="bi bi-arrow-left me-2"></i> Ganti Paket
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="quizModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <form id="quizForm" class="modal-content px-3 py-2">
          <div class="modal-header border-0 pb-0">
            <div>
              <h4 class="modal-title fw-bold">Pilih Materi Quiz</h4>
              <p class="text-muted small mb-0">
                Siap menguji kemampuan arti katamu?
              </p>
            </div>
            <button
              type="button"
              class="btn-close bg-light rounded-circle p-2"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body pt-4">
            <div id="rangeListQuiz" class="range-grid-container"></div>
            <div class="mt-4 pt-3 border-top d-flex gap-2">
              <button
                type="button"
                id="selectAllQuiz"
                class="btn btn-sm btn-light border px-3 rounded-pill fw-medium"
              >
                Pilih Semua</button
              ><button
                type="button"
                id="clearAllQuiz"
                class="btn btn-sm btn-light border px-3 rounded-pill fw-medium"
              >
                Reset
              </button>
            </div>
          </div>
          <div class="modal-footer border-0 pt-0 pb-4">
            <button
              type="button"
              class="btn btn-light text-muted fw-medium rounded-pill px-4 py-2"
              data-bs-dismiss="modal"
            >
              Batal</button
            ><button
              type="submit"
              class="btn btn-primary-custom rounded-pill px-5 py-3 shadow-sm"
            >
              Mulai Quiz
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="modal fade" id="memModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <form id="memForm" class="modal-content px-3 py-2">
          <div class="modal-header border-0 pb-0">
            <div>
              <h4 class="modal-title fw-bold">Pilih Materi Hafalan</h4>
              <p class="text-muted small mb-0">
                Ketik Romaji dari kata yang muncul.
              </p>
            </div>
            <button
              type="button"
              class="btn-close bg-light rounded-circle p-2"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body pt-4">
            <div id="rangeListMem" class="range-grid-container"></div>
            <div class="mt-4 pt-3 border-top d-flex gap-2">
              <button
                type="button"
                id="selectAllMem"
                class="btn btn-sm btn-light border px-3 rounded-pill fw-medium"
              >
                Pilih Semua</button
              ><button
                type="button"
                id="clearAllMem"
                class="btn btn-sm btn-light border px-3 rounded-pill fw-medium"
              >
                Reset
              </button>
            </div>
          </div>
          <div class="modal-footer border-0 pt-0 pb-4">
            <button
              type="button"
              class="btn btn-light text-muted fw-medium rounded-pill px-4 py-2"
              data-bs-dismiss="modal"
            >
              Batal</button
            ><button
              type="submit"
              class="btn btn-primary-custom rounded-pill px-5 py-3 shadow-sm"
            >
              Mulai Tes
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="modal fade" id="partSelectionModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg">
      <div class="modal-header border-0 pb-0">
        <div>
           <h5 class="modal-title fw-bold" id="partModalTitle">Pilih Bagian</h5>
           <p class="text-muted small mb-0">Pilih rentang kata yang ingin dipelajari.</p>
        </div>
        <button type="button" class="btn-close bg-light rounded-circle p-2" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body pt-3">
        <div id="partListContainer" class="d-grid gap-2"></div>
      </div>
      <div class="modal-footer border-0 pt-0">
        <button type="button" class="btn btn-primary-custom w-100 rounded-pill py-2" data-bs-dismiss="modal">
            Simpan Pilihan
        </button>
      </div>
    </div>
  </div>
</div>

    <div class="modal fade" id="confirmModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content border-0 shadow-lg rounded-4 text-center p-4">
          <div class="modal-body p-2">
            <div class="mb-3" style="color: var(--teal);">
              <i class="bi bi-check-circle-fill" style="font-size: 3rem"></i>
            </div>
            <h4 class="fw-bold mb-2">Selesai Mengerjakan?</h4>
            <div id="confirmSummary" class="text-muted mb-4"></div>
            <div class="d-flex gap-2 justify-content-center">
              <button
                type="button"
                class="btn btn-light rounded-pill px-4 py-2 fw-medium"
                data-bs-dismiss="modal"
              >
                Batal</button
              ><button
                id="confirmSend"
                type="button"
                class="btn btn-primary-custom rounded-pill px-4 py-2 shadow-sm"
              >
                Ya, Nilai
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="confetti-wrapper"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>